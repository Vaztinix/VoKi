<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VoKi | Music Player</title>
<link rel="icon" type="image/png" href="VoKi Logo (Updated Bot Logo).png">

<style>
:root {
  --primary:#aeefff;
  --accent:#6dc8ff;
  --bg-gradient: linear-gradient(135deg,#4facfe,#6fa1ff,#8e44ad);
  --bg-dark: linear-gradient(135deg,#141e30,#1f2a45,#243b55);
  --text:#ffffff;
  --card: rgba(255,255,255,0.08);
  --card-hover: rgba(255,255,255,0.18);
  --nav: rgba(0,0,0,0.85);
  --radius:14px;
}

/* Global */
*{box-sizing:border-box;}
body{margin:0;font-family:"Segoe UI",Arial,sans-serif;color:var(--text);background:var(--bg-gradient);background-size:400% 400%;animation:flow 25s ease infinite;-webkit-font-smoothing:antialiased;scroll-behavior:smooth;min-height:100vh;transition:background .5s ease;}
@keyframes flow{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
h1,h2,h3,p{margin:0;padding:0;}
a{text-decoration:none;color:inherit;}

/* Header & Nav */
header{position:sticky;top:0;display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background:var(--nav);backdrop-filter:blur(6px);z-index:1000;}
.brand{display:flex;align-items:center;gap:12px;}
.brand img{width:44px;height:44px;border-radius:10px;object-fit:cover;}
.brand h1{color:var(--primary);}
nav{display:flex;gap:12px;}
.nav-links{display:flex;gap:8px;align-items:center;}
.nav-links a{padding:8px 12px;border-radius:10px;font-weight:600;transition:.2s;}
.nav-links a:hover{background:var(--primary);color:#000;transform:translateY(-3px);}
.actions{display:flex;gap:10px;align-items:center;}
.icon-btn{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;background:transparent;border:1px solid rgba(255,255,255,0.04);cursor:pointer;}

/* Container & Library */
.container{max-width:1100px;margin:0 auto;padding:3rem 1.5rem;text-align:center;}
h1{color:var(--primary);font-size:2rem;margin-bottom:1rem;}
input[type="text"]{padding:10px 14px;width:100%;max-width:500px;border-radius:14px;border:none;font-size:1rem;margin-bottom:20px;}
button.search-btn{padding:10px 18px;border-radius:12px;background:var(--primary);color:#000;font-weight:600;border:none;cursor:pointer;transition:.2s;}
button.search-btn:hover{transform:translateY(-2px);opacity:.95;}

/* Music grid */
.music-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:20px;margin-top:20px;}
.music-card{background:var(--card);padding:12px;border-radius:var(--radius);transition:.25s;box-shadow:0 6px 18px rgba(0,0,0,0.28);}
.music-card:hover{background:var(--card-hover);transform:translateY(-4px);}
.music-card img{width:100%;border-radius:12px;margin-bottom:8px;}
.music-card h3{font-size:1rem;margin-bottom:4px;}
.music-card p{font-size:0.85rem;color:rgba(255,255,255,0.8);margin-bottom:8px;}
.music-card audio{width:100%;outline:none;border-radius:10px;}

/* Footer */
footer{text-align:center;padding:28px 1.5rem;color:rgba(255,255,255,.8);}
</style>
</head>
<body>

<header>
<div class="brand"><img src="VoKi Logo (Updated Bot Logo).png" alt="VoKi logo"><h1>VoKi</h1></div>
<nav>
<div class="nav-links">
<a href="index.html">Home</a>
<a href="team.html">Team</a>
<a href="ai-helper.html">Kite AI</a>
<a href="AI.html">VoKi AI</a>
<a href="tos.html">Legal</a>
</div>
<div class="actions">
<button id="themeToggle" class="icon-btn">ðŸŒ“</button>
</div>
</nav>
</header>

<main class="container">
<h1>VoKi Music Player</h1>
<input type="text" id="searchInput" placeholder="Search for songs, artists, or albums...">
<button class="search-btn" id="searchBtn">Search</button>

<div class="music-grid" id="musicGrid"></div>
</main>

<footer>Â© 2025 VoKi â€¢ Music Player</footer>

<script>
const themeToggle = document.getElementById('themeToggle');
let dark = false;
themeToggle.addEventListener('click', ()=>{
  dark = !dark;
  document.body.style.background = dark ? 'var(--bg-dark)' : 'var(--bg-gradient)';
});

// ===== Spotify Search & Trending =====
const SPOTIFY_TOKEN = "YOUR_SPOTIFY_ACCESS_TOKEN"; // add token
const musicGrid = document.getElementById('musicGrid');
let offset = 0;
let currentQuery = "";
let loading = false;

async function fetchTracks(query, more=false){
  if(loading) return;
  loading = true;
  if(!more) musicGrid.innerHTML = "Loading...";
  const url = `https://api.spotify.com/v1/search?q=${encodeURIComponent(query || "top tracks")}&type=track&limit=24&offset=${offset}`;
  try{
    const res = await fetch(url,{
      headers:{ Authorization: `Bearer ${SPOTIFY_TOKEN}` }
    });
    const data = await res.json();
    if(!more) musicGrid.innerHTML = "";
    data.tracks.items.forEach(track=>{
      const card = document.createElement('div');
      card.className = 'music-card';
      card.innerHTML = `
        <a href="${track.external_urls.spotify}" target="_blank">
          <img src="${track.album.images[0]?.url}" alt="${track.name}">
        </a>
        <h3>${track.name}</h3>
        <p>${track.artists.map(a=>a.name).join(', ')}</p>
        <audio controls src="${track.preview_url}"></audio>
      `;
      musicGrid.appendChild(card);
    });
    offset += 24;
    loading = false;
  }catch(err){
    console.error(err);
    musicGrid.innerHTML = "<p>Failed to fetch results.</p>";
    loading = false;
  }
}

// Initial trending tracks
fetchTracks("top hits");

// Search
document.getElementById('searchBtn').addEventListener('click', ()=>{
  const q = document.getElementById('searchInput').value.trim();
  if(q){
    offset = 0;
    currentQuery = q;
    fetchTracks(q);
  }
});

// Infinite scroll
window.addEventListener('scroll', ()=>{
  if(window.innerHeight + window.scrollY >= document.body.offsetHeight - 500){
    fetchTracks(currentQuery, true);
  }
});
</script>
</body>
</html>
