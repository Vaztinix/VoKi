<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>VoKi – Your Discord Bot</title>
<style>
:root {
  --primary-color: #aeefff;
  --secondary-color: #ffaeae;
  --text-color: #fff;
  --bg-gradient: linear-gradient(to bottom right, #4facfe, #8e44ad);
  --nav-bg: rgba(0,0,0,0.6);
  --card-bg: rgba(0,0,0,0.25);
  --card-hover-bg: rgba(0,0,0,0.45);
  --error-bg: rgba(255,0,0,0.8);
  --chat-bg: rgba(0,0,0,0.75);
  --chat-hover: rgba(0,0,0,0.85);
  --bubble-bg: rgba(0,0,0,0.6);
}

body {
  margin:0; font-family: Arial, sans-serif; background: var(--bg-gradient);
  color: var(--text-color); line-height: 1.6; scroll-behavior: smooth; overflow-x: hidden;
  transition: all 0.3s ease;
  display:flex; flex-direction:column; align-items:center;
}

nav {
  position: fixed; top: 0; left: 0; width: 100%; height: 60px;
  background: var(--nav-bg); display: flex; justify-content: center; align-items: center;
  gap: 25px; z-index: 1000; padding: 0 20px;
}
nav a { color: var(--text-color); font-weight: bold; text-decoration: none; transition: 0.3s; }
nav a:hover { color: var(--primary-color); }

.container { max-width: 900px; margin: 100px auto 50px; padding: 0 20px; text-align:center; display:flex; flex-direction:column; align-items:center; gap:20px; }

.card { background: var(--card-bg); padding: 20px; border-radius: 20px; width: 100%; max-width:400px; transition: background 0.3s, transform 0.3s; text-align:left; }
.card:hover { background: var(--card-hover-bg); transform: translateY(-5px); }

input[type="text"], input[type="password"] {
  width: calc(100% - 20px); padding: 10px; margin: 8px 0;
  border-radius: 15px; border: none; outline: none; font-size: 1rem;
}
button {
  background: var(--primary-color); color: #000; font-weight: bold;
  padding: 10px 20px; border-radius: 15px; border: none; cursor: pointer;
  transition: background 0.3s; margin-top:5px;
}
button:hover { background: #fff; color: #000; }

#errorLogin, #errorSignUp { display:none; color: var(--error-bg); font-weight: bold; margin-top: 10px; text-align:center; }

#userBubble {
  position: fixed; top: 20px; right: 20px; padding: 12px 18px;
  background: var(--bubble-bg); border-radius: 20px; text-align: center;
  z-index: 1001; min-width: 180px;
}
#userBubble .badge { display:block; font-size:0.8rem; color: var(--secondary-color); margin-top:2px; }

#aiBubble {
  position: fixed; bottom: 20px; right: 20px; width: 60px; height: 60px;
  background: var(--primary-color); border-radius: 50%; display: flex; justify-content: center;
  align-items: center; cursor: pointer; font-weight: bold; z-index: 1002; box-shadow: 0 0 10px rgba(0,0,0,0.5);
}
#aiChat {
  position: fixed; bottom: 90px; right: 20px; width: 320px; max-height: 400px;
  background: var(--chat-bg); border-radius: 20px; display: none; flex-direction: column;
  overflow: hidden; box-shadow: 0 0 15px rgba(0,0,0,0.7); z-index: 1001;
}
#aiMessages { flex: 1; overflow-y: auto; padding: 10px; }
.ai-message { margin-bottom: 8px; border-radius: 12px; padding: 8px; }
.ai-user { background: rgba(255,255,255,0.2); }
.ai-bot { background: rgba(255,255,255,0.1); }
#aiInputWrapper { display: flex; padding: 10px; background: rgba(0,0,0,0.25); border-top: 1px solid #fff; }
#aiInput { flex: 1; padding: 8px; border-radius: 12px; border: none; outline: none; }
#aiSend { margin-left: 5px; padding: 8px 12px; border-radius: 12px; border: none; background: var(--primary-color); cursor: pointer; }

body.dark {
  --bg-gradient: linear-gradient(to bottom right, #1e1e1e, #2c2c2c);
  --text-color: #eee;
  --nav-bg: rgba(30,30,30,0.85);
  --card-bg: rgba(50,50,50,0.4);
  --card-hover-bg: rgba(60,60,60,0.6);
  --chat-bg: rgba(30,30,30,0.85);
}
</style>
</head>
<body>

<nav>
  <a href="index.html">Home</a>
  <a href="about.html">Team</a>
  <a href="tos.html">Terms of Service</a>
</nav>

<div id="userBubble">
  Not signed in <span class="badge">Guest</span>
  <div><button id="loginGuestBtn">Login / Sign Up</button></div>
</div>

<div class="container">
  <h1>Welcome to VoKi</h1>

  <!-- Login Card -->
  <div class="card" id="loginCard">
    <h2>VoKi Login / Sign Up</h2>
    <div id="loginForm">
      <input type="text" id="loginUsername" placeholder="Username">
      <input type="password" id="loginPassword" placeholder="Password">
      <button id="loginBtn">Login</button>
      <button id="goSignUp">Sign Up</button>
      <div id="errorLogin">Invalid credentials!</div>
    </div>
    <div id="signUpForm" style="display:none;">
      <input type="text" id="signUsername" placeholder="Choose a username">
      <input type="password" id="signPassword" placeholder="Choose a password">
      <button id="signUpBtn">Sign Up</button>
      <button id="backToLogin">Back</button>
      <div id="errorSignUp">Username already exists!</div>
    </div>
  </div>

  <!-- Features -->
  <div class="card">
    <h2>Features</h2>
    <ul>
      <li>Moderation commands: ban, mute, kick, etc.</li>
      <li>AI-powered Q&A (requires login)</li>
      <li>Custom role management</li>
      <li>Support system for server staff</li>
    </ul>
  </div>

  <!-- Updates -->
  <div class="card">
    <h2>Current Updates</h2>
    <ul>
      <li>Enhanced logging system</li>
      <li>Multilingual support</li>
      <li>Advanced leveling features</li>
      <li>Privacy opt-out available for all users</li>
    </ul>
  </div>

</div>

<div id="aiBubble">AI</div>
<div id="aiChat">
  <div id="aiMessages"></div>
  <div id="aiInputWrapper">
    <input type="text" id="aiInput" placeholder="Ask me anything..." disabled/>
    <button id="aiSend" disabled>Send</button>
  </div>
</div>

<footer>
  © 2025 VoKi — Building smarter communities together.
</footer>

<script>
// Account system
let accounts = JSON.parse(localStorage.getItem("vokiAccounts")||"{}");
const loginForm = document.getElementById("loginForm");
const signUpForm = document.getElementById("signUpForm");
const loginBtn = document.getElementById("loginBtn");
const goSignUp = document.getElementById("goSignUp");
const backToLogin = document.getElementById("backToLogin");
const signUpBtn = document.getElementById("signUpBtn");
const userBubble = document.getElementById("userBubble");
const loginGuestBtn = document.getElementById("loginGuestBtn");
const errorLogin = document.getElementById("errorLogin");
const errorSignUp = document.getElementById("errorSignUp");

function updateUserBubble(user){
  if(user){
    userBubble.innerHTML=`Signed in as ${user} <span class="badge">Beta Program</span>`;
    enableAI();
  }else{
    userBubble.innerHTML=`Not signed in <span class="badge">Guest</span><div><button id="loginGuestBtn">Login / Sign Up</button></div>`;
    document.getElementById("aiInput").disabled=true;
    document.getElementById("aiSend").disabled=true;
    document.getElementById("loginGuestBtn").onclick=()=>{document.getElementById("loginCard").style.display="block";}
  }
}

updateUserBubble(localStorage.getItem("vokiLastUser")||null);

goSignUp.onclick=()=>{loginForm.style.display="none"; signUpForm.style.display="block"; errorSignUp.style.display="none";}
backToLogin.onclick=()=>{loginForm.style.display="block"; signUpForm.style.display="none"; errorLogin.style.display="none";}

signUpBtn.onclick=()=>{
  const u=document.getElementById("signUsername").value.trim();
  const p=document.getElementById("signPassword").value.trim();
  if(accounts[u]){ errorSignUp.style.display="block"; return; }
  accounts[u]=p;
  localStorage.setItem("vokiAccounts", JSON.stringify(accounts));
  localStorage.setItem("vokiLastUser", u);
  document.getElementById("loginCard").style.display="none";
  updateUserBubble(u);
}

loginBtn.onclick=()=>{
  const u=document.getElementById("loginUsername").value.trim();
  const p=document.getElementById("loginPassword").value.trim();
  if(accounts[u]&&accounts[u]===p){
    localStorage.setItem("vokiLastUser", u);
    document.getElementById("loginCard").style.display="none";
    updateUserBubble(u);
  }else errorLogin.style.display="block";
}
loginGuestBtn.onclick=()=>{ document.getElementById("loginCard").style.display="block"; }

// AI Chat
const aiBubble = document.getElementById("aiBubble");
const aiChat = document.getElementById("aiChat");
const aiInput = document.getElementById("aiInput");
const aiSend = document.getElementById("aiSend");
const aiMessages = document.getElementById("aiMessages");
let memory = [];
const bannedWords = ["badword1","badword2","badword3","offensive"];

function enableAI(){ aiInput.disabled=false; aiSend.disabled=false; }

function isSafe(text){ return !bannedWords.some(w=>text.toLowerCase().includes(w)); }
function addMessage(sender,text){
  const msg=document.createElement("div");
  msg.classList.add("ai-message",sender==="You"?"ai-user":"ai-bot");
  const time = new Date().toLocaleTimeString();
  msg.innerHTML=`<strong>${sender}:</strong> ${text} <span style="float:right;font-size:0.7em;">${time}</span>`;
  aiMessages.appendChild(msg);
  aiMessages.scrollTop=aiMessages.scrollHeight;
}
function getAIResponse(text){
  const found = memory.find(item=>item.question.toLowerCase()===text.toLowerCase());
  if(found) return found.answer;
  const responses = ["Interesting! Tell me more.","I'm here to help!","That's a great question.","Could you clarify?"];
  const answer = responses[Math.floor(Math.random()*responses.length)];
  memory.push({question:text, answer:answer});
  return answer;
}
aiBubble.onclick=()=>{ aiChat.style.display = aiChat.style.display==="flex"?"flex":"flex"; aiChat.style.display=(aiChat.style.display==="flex"?"none":"flex"); }
aiSend.onclick=()=>{
  const text=aiInput.value.trim();
  if(!text) return;
  if(!isSafe(text)){ addMessage("AI","⚠️ Unsafe content blocked."); aiInput.value=""; return; }
  addMessage("You", text);
  addMessage("AI", getAIResponse(text));
  aiInput.value="";
}
aiInput.addEventListener("keypress",e=>{if(e.key==="Enter") aiSend.click();});
</script>
</body>
</html>
